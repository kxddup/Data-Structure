# 图Graph

[toc]

## 图的定义 

### 1. 顶点、边、阶

在图中，数据元素被称为 <u>顶点</u>，和在树中将数据元素称为节点是有区别的，用 **v（Vertex）**表示。<u>不同的顶点之间的连线称为 边</u>，用 **E（Edge）**表示。

图（Graph）是由<u>顶点的 有穷非空 集合</u>和顶点之间的连线（边）的集合组成。通常表示为 G=(V, E)，其中 G 表示一个图，V(G) 代表图 G 中的顶点集合，E(G) 代表图 G 中的边集合。

用 |V| 表示图 G 中顶点个数，也称为图 G 的<u>阶</u>。

用 |E| 表示图 G 中边的条数。 

==线性表可以是空表，树可以是空树，但是图不能是空，v一定是非空集，一定有顶点==

==但是可以没有边，==

==图的边两头一定有顶点==

![image-20231213141729643](C:\Users\31677\AppData\Roaming\Typora\typora-user-images\image-20231213141729643.png)

### 2. 无向图、有向图

![image-20231213142130657](C:\Users\31677\AppData\Roaming\Typora\typora-user-images\image-20231213142130657.png)

###     简单图、多重图

![image-20231213142241003](C:\Users\31677\AppData\Roaming\Typora\typora-user-images\image-20231213142241003.png)

###     完全图

在无向图中，如果任意两个顶点之间都存在边，则称该图为 **无向完全图**。

含有 n 个顶点的无向完全图有 n ( n − 1 ) / 2 条边。

![image-20231213143247372](C:\Users\31677\AppData\Roaming\Typora\typora-user-images\image-20231213153127140.png)

在有向图中，如果任意两个顶点之间都存在方向相反的两条弧，则称该图为 **有向完全图**。

含有 n 个顶点的有向完全图有 n ( n − 1 )条边 。

![image-20231213143403421](C:\Users\31677\AppData\Roaming\Typora\typora-user-images\image-20231213153204087.png)

Sparse Graph**:** **有很少边或弧的图（如***e<n㏒n）的图称为稀疏图，反之称为 

Dense Graph(稠密图)

### 3.顶点的度

+ 

在==无向图==中，**顶点 v 的度**（Degree）是和 v 相关联的边的数目，记为 TD(v)。

因为一条边可以给与这条边相连接的两个顶点分别提供 1 度，所以，**无向图中所有顶点的度之和就应该是边数 \* 2**，即 `2|E|`。

+ 

![image-20231213143800372](C:\Users\31677\AppData\Roaming\Typora\typora-user-images\image-20231213143800372.png)

有向图中，因为一条边可以给与这条边相连接的两个顶点分别提供 1 出度和 1 入度，所以 **有向图所有顶点的入度之和与出度之和相等并且等于弧的数量。**

### 4. 顶点之间的关系

![image-20231213144157178](C:\Users\31677\AppData\Roaming\Typora\typora-user-images\image-20231213144157178.png)

<u>路径是顶点序列</u>

路径上<u>边</u>或有向边（弧）的<u>数目</u>称为该<u>路径的长度</u>

有路径存在就是连通的，不一定需要直接连接

连通图

![image-20231213144504025](C:\Users\31677\AppData\Roaming\Typora\typora-user-images\image-20231213144504025.png)

让剩下的点全部直接连接起来



强连通图

![image-20231213144608406](C:\Users\31677\AppData\Roaming\Typora\typora-user-images\image-20231213144608406.png)

### 5.子图

![image-202312 13144946461](C:\Users\31677\AppData\Roaming\Typora\typora-user-images\image-20231213144946461.png)

首先子图要是图

生成子图：包含了原图的所有顶点，但是去掉了原图的几个边

### 6.连通分量

![image-20231213152259590](C:\Users\31677\AppData\Roaming\Typora\typora-user-images\image-20231213152259590.png)

连通分量：极大连通子图--连通不再可扩展

（“极大”：对子图再添加图G中其他顶点，子图就不再连通）



###     强连通分量

![image-20231213152517400](C:\Users\31677\AppData\Roaming\Typora\typora-user-images\image-20231213152517400.png)

### 7.生成树、生成森林

![image-20231213152638807](C:\Users\31677\AppData\Roaming\Typora\typora-user-images\image-20231213152638807.png)

（注意：有n-1条边的图不一定是生成树）



![image-20231213152827062](C:\Users\31677\AppData\Roaming\Typora\typora-user-images\image-20231213152827062.png)



树：连通图

有向树：不是强连通图

![image-20231213153717323](图.assets/image-20231213153717323.png)

### 8.边的权、带权图（网）

![image-20231213153014820](C:\Users\31677\AppData\Roaming\Typora\typora-user-images\image-20231213153014820.png)

### <u>9.总结</u>

![image-20231213153754049](图.assets/image-20231213153754049.png)

## 图的存储

### 1. *邻接矩阵表示法（数组表示法）

![image-20231213160851354](图.assets/image-20231213160851354.png)

有向图的度=入度+出度

![image-20231213162355019](图.assets/image-20231213162355019.png)

无向图的边数：上 (或下)三角形矩阵中非0元素的个数 （是个数，不是值！)

有向图的弧的数目：邻接矩阵中非0元素的个数

![image-20231213162429395](图.assets/image-20231213162429395.png)

![image-20231213162610031](图.assets/image-20231213162610031.png)带权图



![image-20231213162713138](图.assets/image-20231213162713138.png)

性能分析



![image-20231213163249442](图.assets/image-20231213163249442.png)

![image-20231213163304765](图.assets/image-20231213163304765.png)

### 2.*邻接表（类似于树的孩子链表表示法）

顺序+链式

![image-20231213164002522](图.assets/image-20231213164002522.png)

对于无向图，邻接链表是唯一的

对于有向图，邻接链表有两种形式，正·邻接链表：方便找出度；逆·邻接链表：方便找入度

![image-20240104215357269](图.assets/image-20240104215357269.png)



![image-20231213164121922](图.assets/image-20231213164121922.png)

### 3.十字链表（有向图）

![image-20231213164712632](图.assets/image-20231213164712632.png)

![image-20231213164747688](图.assets/image-20231213164747688.png)

### 4.邻接多重表（无向表）

![image-20231213165308425](图.assets/image-20231213165308425.png)

![image-20231213165446426](图.assets/image-20231213165446426.png)

## 图的基本操作

## 图的遍历



**对于空间复杂度：**

BFS：辅助队列（层序遍历）

DFS：递归工作栈（先根遍历）

**对于时间复杂度：**

都是一样的，<u>访问结点的时间+访问所有边的时间</u>

邻接矩阵：O（v^2）

邻接表：O（|V|+|E|）

（唯一区别是邻接点搜索次序不同）

![image-20240105143614158](图.assets/image-20240105143614158.png)

### 广度优先遍历（BFS）

#### 树的广度优先遍历（层序遍历）

广度--横向

![image-20231213195148304](图.assets/image-20231213195148304.png)

![image-20231213195211977](图.assets/ima  ge-20231213195211977.png)

标记数组：标记哪些结点被访问过

![image-20231213195221524](图.assets/image-20231213195221524.png)



如果<u>存储结构不同，遍历顺序</u>可能不同：

邻接矩阵--递增排列--表示方法唯一，遍历序列唯一

邻接表--序列是可变的，不唯一的

![image-20231213195740728](图.assets/image-20231213195740728.png)

![i mage-20231213195826903](图.assets/image-20231213195826903.png)

![image-20231213200030795](图.assets/image-20231213200030795.png) 

连通分量：极大连通子图

+ 空间复杂度：

  ![image-20231213224638686](图.assets/image-20231213224638686.png)

  ![image-20231213200611881](图.assets/image-20231213200611881.png)

+ 时间复杂度![image-20231213200641820](图.assets/image-20231213200641820.png)

  ![image-20231213200742053](图.assets/image-20231213200742053.png)

  （==计算时间复杂度的时候，没有进入代码中，凡是遇到对于广度优先算法和深度优先算法的时间复杂度计算，不要进入代码，简化为逻辑==）

  ###### （==<u>时间开销：访问顶点+访问边</u>==）

#### 广度优先生成树

根据广度优先遍历的过程，将图改造成树

基于邻接矩阵--树唯一

基于邻接表（表示方式不唯一）--广度优先生成树也不唯一     

### 深度优先遍历（DFS）

#### 树的深度优先遍历（先根/后根）

![image-20231213221309821](图.assets/image-20231213221309821.png)

#### 图的深度优先遍历--先根

![image-20231213221408574](图.assets/image-20231213221408574.png)

![image-20231213223410461](图.assets/image-20231213223410461.png)

+ 空间复杂度

  ![image-20231213223601333](图.assets/image-20231213223601333.png)

+ 时间复杂度

  ![image-20231213223655614](图.assets/image-20231213223655614.png)

![image-20231213224124875](图.assets/image-20231213224124875.png)

往后退



### 图的遍历与图的连通性![image-20231213224331342](图.assets/image-20231213224331342.png)

![image-20231213224343040](图.assets/image-20231213224343040.png)

注意有向图的路径--可到达--注意方向

![image-20231213224411654](图.assets/image-20231213224411654.png)

![image-20240105141513919](图.assets/image-20240105141513919.png)

4  5

## 图的应用

### 1. 最小生成树

生成树![image-20231214094530545](图.assets/image-20231214094530545.png)

最小生成树（最小代价树）

MST（Minimum-Spanning-Tree）

结合权值

![image-20231214094949649](图.assets/image-20231214094949649.png)

![image-20231214095020882](图.assets/image-20231214095020882.png)

![image-20231214095053746](图.assets/image-20231214095053746.png)

边的带权一样

![image-20231214095147316](图.assets/image-20231214095147316.png)

*连通图--树*

*非连通图--森林*

![image-20231214095301608](图.assets/image-20231214095301608.png)

### Prim算法

![image-20231214100729577](图.assets/image-20231214100729577.png) 

注意是纳入<u>树</u>里面，树会长大，所以连上树上面的哪一个结点都是正确的

### Kruskal算法

![image-20231214100810797](图.assets/image-20231214100810797.png)

![image-20231214100847242](图.assets/image-20231214100847242.png) 

![image-20231214100949307](图.assets/image-20231214100949307.png)

![image-20231214101833421](图.assets/image-20231214101833421.png)

![image-20231214102204544](图.assets/image-20231214102204544.png)

## 最短路径问题

![image-20231214103711906](图.assets/image-20231214103711906.png)

BFS![image-20231214105017546](图.assets/image-20231214105017546.png)

Dijkstra算法

不适合带有负权值的带权图

Floyd算法

